# 系统可用性/可持续性

**机器容灾**： 目前故障自愈的后台采用双机部署，架构图中看到的告警拉取，告警匹配，告警收敛，计算事件维度，告警分析等模块都部署了两份。当一台机器故障时，依然能全流程自愈。

**告警拉取时的分布式锁**： 由于采用了双机部署，同一时间段内的告警拉取两份过来重复处理显然是做了无用功。所以故障自愈用实现了一个简单的分布式锁，保证双机部署是也只从告警源拉取一份告警。

**队列容灾**： 优先级队列中的数据主要是存储在内存中的，容灾是我们需要考虑的问题。目前的做法时，写数据时往 2 台机器的队列实例写，读取数据时做一次去重。
