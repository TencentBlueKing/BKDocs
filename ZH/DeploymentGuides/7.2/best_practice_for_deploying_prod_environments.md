
# 蓝鲸生产环境部署最佳实践

> 如若在生产环境部署、使用蓝鲸，可参考以下部署建议：

## 网络架构设计

- **专用DMZ区域部署**
  - 创建独立DMZ区域（如`BK-DMZ`），与业务网络物理/逻辑隔离
  - 配置统一隔离策略：
    - 外部访问：仅允许通过负载均衡器/ingress访问指定入口（如：80/443）
    - 内部通信：限制业务系统直连，仅开放API网关、GSE相关端口、bkrepo、节点管理的白名单
  - 拓扑示例：
    ```
    [Internet] → [防火墙] → [BK-DMZ负载均衡/ingress] → [蓝鲸集群]
                    ↓
              [业务区访问受限通道]
    ```
- **端口与服务管控**
  > 以下均为默认端口，请以实际为准

  |服务类型|开放端口|访问源|
  |---|---|---|
  |蓝鲸WEB服务|TCP:80,443|用户浏览器|
  |API网关、bkrepo、节点管理|TCP:80,443|业务系统|
  |GSE管控端口|TCP:28668,28625,58931,20020,58931,58931<br />UDP：20020,20030|跨云机器管控|
  |SSH管理|22|跳板机IP段|

  - **禁用案例**

  |服务类型|开放端口|访问源|
  |---|---|---|
  |MySQL|3306|禁止业务直连|
  |Redis|6379|禁止业务直连|
  |MongoDB|27017|禁止业务直连|
  |elasticSearch|9200|禁止业务直连|
  |请按实际情况逐一梳理...||

