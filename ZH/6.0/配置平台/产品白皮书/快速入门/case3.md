# 快速入门模型和模型拓扑管理

随着企业的发展，CMDB 会逐步承担更多的基础配置责任，蓝鲸配置平台通过构建了底层的 "模型"，提供了动态拓展的能力，帮助企业在线实现 CMDB 的能力升级。以下通过以一个机房例子介绍如何操作：

具体步骤：

**创建机房模型 -- 完善机房属性 -- 完善关联关系 -- 创建实例**

## 创建机房模型

配置平台内置一些通用的模型，当现有的模型不能够满足需要的时候，可以通过新建的方式增加模型。

点击左上角的 【新建模型】 按钮，打开新建模型的对话框，然后选择所属分组，选择模型图标（后续可自定义图标），填写模型唯一标识以及名称，最后点击保存新建完成

![image-20201105105142618](../media/case3/image-20201105105142618.png)

![image-20201105105224370](../media/case3/image-20201105105224370.png)

创建模型需要填写 "唯一标识" 和 "名称"：

**唯一标识**：是模型在系统中的唯一标识，需要保证不可重复。

**名称**：是用户在产品中能够看到的描述名称。

点击确认后新的模型创建成功。新的模型会自带一个默认的必填唯一字段 "实例名"，用户可根据模型的实际定位修改此字段的中文名称，但是英文名称因为作为系统底层唯一标识不可调整。

![image-20201105105425125](../media/case3/image-20201105105425125.png)

在实际场景中，我们需要给模型丰富更多的字段，通过点击“新建字段”增加更多字段（可以批量导入字段，详见 [模型字段导出和导入](../产品功能/Model.md)小节）。

![image-20201105105449717](../media/case3/image-20201105105449717.png)

目前支持 "短字符"（长度 256 个英文）、"长字符"（长度 2000 个英文）、"数字"、"枚举"、“列表”、"日期"、"时间"、"时区"、"用户"、"布尔"、“组织”等类型。

根据所选择的字段类型，分别支持用户定义验证方式："是否必填"、"正则验证"、"大于小于范围" 等。

![image-20201105105749968](../media/case3/image-20201105105749968.png)

## 完善关联关系

为了让机房能够和主机有关联能力，我们接下来配置主机到机房的关联关系。

切换到模型关联 Tab 页，点击新建

![image-20201105105907518](../media/case3/image-20201105105907518.png)

关联关系的配置，核心需要分析两个对象之间的关系限制，由于一个主机只有可能属于一个物理机房，因此我们配置机房作为原，主机作为目标，约束设定为 1-N：

## 创建实例

完成以上操作后，我们已经为配置平台拓展了机房的管理能力，接下来创建实际的机房记录

在资源页面

![image-20201105105950250](../media/case3/image-20201105105950250.png)

点击新建，填写必要属性完成创建

![image-20201105110132817](../media/case3/image-20201105110132817.png)

>Note: 如果需要批量添加，可以点击【导入】按钮进入到导入功能对话框，如果是初次导入，可以先下载实例导入模板进行编辑。

![image-20201105110200939](../media/case3/image-20201105110200939.png)

关联的管理可以打开刚刚创建的机房详情，切换到关联选项卡，可以看到当前机房还没有和任何其他实例关联。

创建关联,点击关联管理，此时会显示当前可以关联的主机，选中关联即可。

![image-20201105110511066](../media/case3/image-20201105110511066.png)

完成以后关闭此视图，可以看到关联关系或者关联拓扑。

![image-20201105110540021](../media/case3/image-20201105110540021.png)

![image-20201105110618098](../media/case3/image-20201105110618098.png)
