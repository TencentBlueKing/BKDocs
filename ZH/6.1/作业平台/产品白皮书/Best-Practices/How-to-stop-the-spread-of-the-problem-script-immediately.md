# 高危脚本如何及时处理避免影响扩大

在使用开源软件时，经常会碰到由于某个漏洞被黑客发现并利用，导致可能造成业务的信息泄露等安全问题；通常在碰到高危的漏洞时，我们会立刻停止线上服务，紧急升级修复漏洞后再重新对外服务。同样的，当一个公共的脚本被发现有逻辑错误/漏洞时，我们不允许业务作业因为引用了该脚本而造成不可预知的故障/损失，希望能够第一时间制止！

在作业平台的脚本管理中，`禁用` 功能能够帮助你及时止损，将问题在大面积爆发前及时制止！下面将通过一个示例来演示，作业平台的脚本 `禁用` 功能是如何运作的。

## 操作步骤

1. 创建一个业务脚本 `error_scene`

   ![image-20200504024942856](media/image-20200504024942856.png)

2. 在作业 `最佳实践示例 - 演示脚本禁用功能` 的步骤中引用该脚本

   ```bash
   因为过程中我们需要切换去操作禁用脚本，所以第一步我们 sleep 30 seconds 来等待，以便配合演示需要
   ```

   ![image-20200504025400870](media/image-20200504025400870.png)

3. 将被引用的脚本版本置为 `禁用` 状态

   ![image-20200504025729960](media/image-20200504025729960.png)

4. 观察作业的执行情况

   ![image-20200504030008312](media/image-20200504030008312.png)

   作业在被执行时，提示「引用的脚本版本已被禁用，无法执行」。

## 结论

如上述演示案例，只要脚本的版本被置为 `禁用`，那么引用它的作业执行方案在运行时就会报错并终止执行，由此来及时防止有漏洞的脚本在线上被继续使用而导致严重故障。