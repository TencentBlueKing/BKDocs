## 版本信息

>**提示**
>
>* Helm chart 的包版本号可能和软件版本号不同，其他类型制品的包版本号即软件版本号。


| 产品 | 包名 | 包版本号 | 软件版本号 | 包类型 |
|--|--|--|--|--|
| 部署脚本 | bkhelmfile | 7.2.0 | -- | 部署脚本 |
| 制品库 | bkrepo | 1.5.2-rc.1 | 1.5.2-rc.1 | chart |
| API 网关 | bk-apigateway | 1.13.20 | 1.13.20 | chart |
| 认证服务 | bkauth | 1.0.2 | 1.0.2 | chart |
| 应用凭据管理 | bkssm | 1.0.9 | 1.0.12 | chart |
| 用户管理 | bk-user | 1.4.14-beta.25 | 2.5.4-beta.25 | chart |
| 蓝鲸桌面 | bk-console | 0.1.4-beta.5 | 0.1.4-beta.5 | chart |
| 权限中心 | bkiam | 0.2.15 | 1.12.15 | chart |
|  | bkiam-saas | 0.2.39-beta.1 | 1.10.36-beta.1 | chart |
|  | bkiam-search-engine | 0.1.4 | 1.1.4 | chart |
| 管控平台 | bk-gse-ce | v2.1.6-rc.30 | 2.1.6-rc.30 | chart |
|  | gse_agent | 2.1.6-rc.30 | -- | 安装包 |
|  | gse_proxy | 2.1.6-rc.30 | -- | 安装包 |
| PaaS 3.0 | bkpaas3 | 1.5.0-beta.14 | 1.5.0-beta.14 | chart |
|  | bkpaas-app-operator | 1.5.0-beta.14 | 1.5.0-beta.14 | chart |
|  | bkapp-log-collection | 1.1.14 | 1.1.14 | chart |
|  | bk-ingress-nginx | 1.3.5 | 1.3.1-patch.1 | chart |
| 配置平台 | bk-cmdb | 3.15.1-beta1 | 3.14.1-beta1 | chart |
|  | bk_cmdb_saas | 3.14.1-beta1 | -- | SaaS |
| 消息通知中心 | bk_notice | 1.5.10 | -- | SaaS |
| 作业平台 | bk-job | 0.6.6-beta.5 | 3.9.6-beta.5 | chart |
| 节点管理 | bk-nodeman | 2.4.7-rc.1418 | 2.4.7-rc.1418 | chart |
| 标准运维 | bk_sops | 3.33.8 | -- | SaaS |
| 流程服务 | bk_itsm | 2.7.0 | -- | SaaS |
| 容器管理平台 | bcs-services-stack | 1.29.3 | 1.29.3 | chart |
| 监控平台 | bk-monitor | 3.9.0-beta.11 | 3.9.0-beta.8 | chart |
|  | bkmonitor-operator-stack | 3.6.117 | 3.38.1948 | chart |
|  | bkmonitorbeat | 3.38.1948 | -- | 采集器 |
|  | bk-collector | 0.55.1830 | -- | 采集器 |
| 日志平台 | bk-log-search | 4.7.4-beta.6 | 4.7.4-beta.6 | chart |
|  | bk-log-collector | 0.3.2 | 7.7.1-rc.17 | chart |
|  | bkunifylogbeat | 7.7.1-rc.17 | -- | 采集器 |
| 持续集成平台 | bk-ci | 3.0.11-beta.3 | 2.4.48 | chart |
| 代码分析 | bk-codecc | 3.1.1-beta.1 | 2.1.1-beta.1 | chart |
| API 自动化测试 | bk-apicheck | 2.1.2 | 2.1.2 | chart |
| 运维开发平台 | bk_lesscode | 1.1.0-beta.17 | -- | SaaS |
| 服务配置中心 | bk-bscp-stack | 1.30.0-beta.6 | 1.30.0-beta.6 | chart |
| 流程引擎服务 | bk_flow_engine | 1.8.1 | -- | SaaS |


## 版本日志

### 整体特性

- 【新增】产品《消息通知中心》（BlueKing Notification Center），全产品接入通知中心（默认未开启），支持发布平台公告。
- 【新增】产品《服务配置中心》（BSCP，BlueKing Service Configuration Provider），为业务提供服务配置管理功能。主要有配置管理、脚本管理、模板与变量管理等功能。
- 【通用】优化登录框技术方案，使用 Windows.open 打开，适配不同尺寸的第三方登录方式样式。
- 【通用】接入通知中心（默认未开启），支持发布平台公告（需部署消息通知中心）。
- 【安全】产品敏感数据支持国密算法加密后入库（默认关闭）。新装用户可在软件部署时选择开启，存量用户可参考运维文档按需切换加密方式。

### 配置平台   

#### 新增

- 【业务】支持容器拓扑及容器相关信息展示
- 【安全】资源新增模型级别的权限管理功能
- 【资源】首页主机搜索支持从文本中自动解析 IP
- 【模型】主机模型新增“云地域”、“云可用区”字段


#### 优化

- 【业务】优化了动态分组创建、预览、编辑的相关交互
- 【安全】7个接口增加"业务访问"权限鉴权：`find_module_host_relation`、`find_host_by_service_template`、`find_host_by_set_template`、` list_biz_hosts`、`list_biz_hosts_topo`、`find_host_by_topo`、`list_host_total_mainline_topo`
- 【资源】调整主机磁盘容量计算方式
- 【资源】搜索中，支持用户类型字段搜索不存在于"用户管理"中的人员
- 【其他】优化了若干功能及交互体验

#### 修复

- 【修复】修复了若干问题


### 作业平台 

- 【通用】支持容器对象的快速脚本执行和文件分发（需部署BCS，并安装 Agent2.0），容器管控，仅支持Linux，支持 Linux 下基于 runc（1.1.8及以上）的两种容器运行时 docker(19.03.9及以上)和containerd(1.6.21及以上)

### 节点管理  

#### 新增

- 【Proxy安装】Proxy 安装支持 CentOS 7 / CentOS 8 / Ubuntu 10及以上版本
- 【Agent安装】Agent / Proxy安装 支持Apple MacOS13.4及以上系统版本的基础管控能力（命令执行，文件传输，数据上报）
- 【Agent安装】Agent / Proxy安装 支持自定义开启 GSE Agent 的数据上报压缩
- 【Agent状态】Agent / Proxy 支持在 Linux 下配置进程托管模式 （TODO：：天亮给具体补助）


#### 优化

- 【Agent安装】优化安装 Agent 时的业务主机查询性能。
- 【Agent安装】Agent 安装的部分接口增加重试机制，提高Agent安装成功率。
- 【Agent安装】优化了 Windows安装脚本检测进程的启动性能。
- 【Agent状态】优化了 Agent 配置重载功能的性能。
- 【Agent状态】分页时展示 Agent 实时状态。
- 【插件状态】优化了插件进程状态的同步性能。
- 【部署策略】优化了插件部署策略的列表拉取过慢的问题。
- 【任务历史】优化了任务历史筛选条件的拉取样式。
- 【任务历史】优化了任务历史的查询与索引能力，支持按 主机 IP 过滤。

#### 修复

- 【Agent安装】修复 Windows 主机进行 Agent 安装报错的若干问题。
- 【Agent安装】修复安装通道场景下发安装包到Proxy 接入点适配的问题。 
- 【Agent安装】修复安装脚本创建相关目录失败时不报错问题 。
- 【Agent状态】修复 Agent 数据压缩属性未正确展示的问题。 
- 【Agent状态】修复部分 ARM 机器同步架构不准确的问题。
- 【Agent状态】修复新增或更新主机信息时的异常与空值的问题。
- 【插件安装】修复主机上 agent 与第三方插件并发安装异常的问题。
- 【插件安装】修复安装插件脚本报错不退出的问题。
- 【插件状态】修复同步插件状态时丢失版本信息的问题。
- 【插件状态】修复插件筛选版本重复显示问题。
- 【Proxy安装】修复 Proxy 外网/登录 IP 编辑校验时不应校验自身的问题。
- 【Proxy升级】修复升级 Proxy 没能成功拉起 gse_agent 进程的问题。
- 【基础能力】修复 Proxy gse_agent.conf 部分配置项缺失的问题。
- 【任务历史】修复非 admin 用户查询全部业务历史任务报错的问题。

### 标准运维

#### 新增

- 【 流程 】`<SOPS_VAR>key:value</SOPS_VAR>` 语法中的 value 支持多行文本。
- 【 流程 】变量表达式支持使用 json 包，如可用 json.loads 将字符串转为列表/字典。
- 【任务】任务新增”等待处理“状态，用于标识审批、人工确认、子流程暂停等需要人为介入的情况
- 【插件】「作业平台(JOB) - 快速执行脚本」新增全局变量的生效范围限制，新版本的插件不再支持脚本中引用全局变量，需使用脚本参数传递

#### 优化

- 【 流程 】优化插件字段转为变量的图标和文案，并不再允许从变量面板删除这类变量，仅支持从节点配置里取消使用后自动删除。
- 【 流程 】调整节点的失败处理选项逻辑，自动跳过和手动跳过不允许同时勾选。
- 【 任务 】优化任务填参页面的布局。
- 【 任务 】优化执行方案交互。
- 【 任务 】创建职能化任务时增加通知认领的引导交互。
- 【 任务 】优化了子流程节点详情，支持同时展示子流程的画布和输入参数。
- 【 任务 】任务状态支持筛选失败、执行中、暂停等细分状态。
- 【 任务 】任务记录默认只显示最近半年记录，节省存储空间。
- 【 任务 】任务 "等待处理" 时，不再允许 "暂停" 任务。
- 【 任务 】优化审批、人工确认等内置插件的样式。
- 【 任务 】优化任务的顶部导航，任务详情增加 "再次执行" 入口。
- 【 全站 】优化文本输入的交互，增加长度限制和提示。
- 【 全站 】优化列表的滚动交互，固定顶部操作区域和表头。
- 【 全站 】优化报错信息的展示样式
- 【 插件 】移除「节点管理(Nodeman)-插件操作」里的主机 ID 选项。
- 【 插件 】优化「节点管理(Nodeman)-新建任务」插件，安装、重装操作移除不必要的选项；增加配置重载、重启操作。
- 【 其它 】周期任务的执行人改为周期策略的最后更新人。
- 【 其它 】周期任务列表，已开启的任务置顶展示。
- 【 其它 】长期未更新的周期任务，增加邮件提醒。

#### 修复

- 【 流程 】修复画布缩放时，节点大小和操作面板位置异常问题。
- 【 流程 】修复有流程查看无新建权限时，克隆流程缺少鉴权问题。
- 【 流程 】修复 yaml 导入时缺少全局变量的问题。
- 【 流程 】修复点击「查看待更新子流程」后，部分节点被遮盖的问题。
- 【 流程 】修复子流程节点输入型变量不显示参数名问题。
- 【 流程 】修复执行方案重命名报错问题。
- 【 变量 】修复"集群模块 IP 选择器"变量使用不存在服务模版也可筛选出 IP 列表问题。
- 【 变量 】修复"IP 选择器"变量已选的集群/模块在 CMDB 被移除时输出结果不正确问题。
- 【 变量 】修复"IP 选择器"变量过滤异常问题。
- 【 变量 】修复子流程节点文本下拉框勾选为变量时的值传递问题。
- 【 变量 】修复下拉框变量远程数据源不支持 URL 传参问题。
- 【 变量 】修复"集群资源筛选"变量，集群个数输入非数字显示 NaN 问题。
- 【 插件 】修复"配置平台(CMDB) 批量更新集群属性"插件传参错误导致不可用问题。
- 【 插件 】修复"监控平台(Monitor) 蓝鲸监控告警屏蔽(按策略)"插件执行失败时异常不显示问题。
- 【 插件 】修复第三方插件的样式展示问题。
- 【 插件 】修复使用「蓝鲸监控告警屏蔽(按范围)」 插件屏蔽业务时，还需再选业务的问题。
- 【 插件 】修复「作业平台(JOB)-执行作业」插件，拉取执行方案时，变量值多了双引号问题。
- 【 插件 】修复"配置平台(CMDB)-转移主机模块"插件不支持管控区域的问题。
- 【 插件 】修复第三方插件日志获取异常问题（依赖 Paas v1.1.0-beta.38 版本）。
- 【 任务 】修复部分场景下无法打开节点详情问题。
- 【 任务 】修复子流程暂停时，任务无法终止的问题。
- 【 任务 】修复任务列表还在加载时，切换 TAB 返回空数据的问题。
- 【 任务 】修复重新执行时，下拉框选项无法复用和粘贴文本自动选中的问题。
- 【 任务 】修复任务执行前，执行代理人错误问题。
- 【 任务 】修复重新执行时，没有记住上次选择节点的问题。
- 【 其它 】修复编辑周期任务的参数时，下拉框数据错误问题。
- 【 其它 】修复部分运营数据展示的 Bug。
- 【 其它 】修复轻应用创建任务时没有关联已选的执行方案问题。
- 【 其它 】修复调用 "create_task" 接口时权限不足时，接口返回错误信息不友好问题。
- 【 其它 】修复在切换动作需要进行二次确认时，如果用户取消切换，选项仍然被切换问题。
- 【 其它 】修复修改周期任务配置时，修改时间未刷新问题。


### 流程服务

#### 新增

- 【单据】我的单据新增"我的经办"

#### 优化

- 【安全】升级部分 pip 依赖版本以提升安全性
- 【单据】工单关闭原因限制长度
- 【单据】工单数据表索引优化
- 【单据】修复附件存储为制品库时上传异常的问题  
- 【单据】允许配置权限中心 SDK 的超时时间
- 【单据】对于创建人为 Admin 的资源跳过自动授权  
- 【单据】提单页支持URL参数填入默认值  
- 【单据】处理单据列表快速切换出现国际化报错的问题      
- 【单据】自定义表格支持 URL 新页面或 iframe 打开链接   
- 【单据】优化 states 节点渲染性能，提高接口访问速度  
- 【单据】修复导入更新时自动过单不生效的问题  
- 【单据】扩大 gthread 的数量，优化接口性能并发表现  
- 【单据】流程支持选择指定变量上级  
- 【API】网关新增获取某个节点审批结果的方法   


#### 修复

- 【安全】修复工单富文本 XSS 问题
- 【单据】修复联合校验未处理节点字段的问题
- 【单据】修复打印页部分变量不存在导致接口异常的问题
- 【单据】修复字段联动条件判断不正确的问题
- 【单据】修复单据详情页单据信息字段显示不全的问题
- 【单据】修复并行网关下，标准运维节点任务失败时，处理人无权限的问题
- 【单据】修复快速审批单据字段顺序与实际不一致的问题
- 【单据】修复 TicketLog 删除逻辑  
- 【单据】修复 get_service_roles 顺序的问题  
- 【单据】修复移动端单据详情字段必填校验的问题 
- 【单据】修复自定义单据状态不生效的问题 
- 【服务】修复创建服务时未校验所属目录字段的问题
- 【通知】修复容器化环境通知中心未注册的问题
- 【权限】修复初始化导入权限中心的角色为空不正常的问题
- 【权限】移动端增加单据无权限相关提示  
- 【触发器】修复线条触发器不展示的问题  
- 【登录】修复移动端登录跳转的问题  


### 权限中心

#### 新增

- 【管理空间】管理空间下新增用户/部门权限管理
- 【系统管理】系统管理员增加查询有权限的人员功能
- 【权限续期】权限续期通知支持企业微信
- 【审批】自定义权限申请支持分级管理员审批
- 【敏感等级】支持操作敏感等级设置

#### 优化

- 【用户组】用户加入的用户组支持批量退出
- 【用户组】用户组权限续期页面增加描述、管理员、管理空间数据展示
- 【用户组】用户组成员增加，复制成员和组织架构功能
- 【用户组】申请加入用户组——>资源实例搜索增加管理空间筛选
- 【用户组】用户组成员列表支持跨页批量删除、批量续期
- 【用户组】申请加入用户组超过100条自定义错误信息
- 【我的权限】我的权限页面增加搜索功能
- 【我的权限】我的权限列表增加底部版本声明
- 【用户】用户模块—>用户类型增加资源实例搜索
- 【用户】用户模块—>组织架构成员增加添加人员
- 【人员选择器】组织架构人员选择器设计改版
- 【产品文档】产品文档链接改为动态配置项
- 【自定义权限】申请自定义权限—>接入系统添加用户组超过100个增加自定义 message


#### 修复

- 【续期】修复用户组成员续期有效期时间戳累加计算错误
- 【续期】修复申请续期—>自定义权限所属系统筛选无法自定义分页
- 【续期】修复用户组成员续期时间戳计算是浮点数造成四舍五入后天数显示错误
- 【用户组申请】用户申请多个组标题过长导致报错问题
- 【用户组】"不可被申请"在自动推荐规则里生效
- 【用户组】修复模板关联用户组页面下拉到底部后翻页按钮显示异常
- 【用户组】修复用户组页面删除用户组后，用户组数量展示消失，需要刷新页面后才重新展示
- 【用户组】修复用户组添加组权限—>先添加操作和权限模板，再取消操作或者对权限模板数量进行删减后不显示
- 【用户组】修复用户组只添加权限模板，快捷关闭后表格数据清空
- 【用户组】修复用户组—>添加组权限个别实例path数量不同步，导致出现提示层级链路列表为空
- 【管理空间】修复分级管理员下多个无限制操作实例无法批量粘贴
- 【管理空间】修复编辑授权边界或者编辑管理空间没有同步勾选依赖操作
- 【管理空间】管理员添加成员重复时无响应(无法添加成员时给出tip)
- 【管理空间】系统注册的不可申请操作对「我的管理空间」生效
- 【管理空间】修复管理空间、用户组详情页链接直接访问会重定向到对应列表页
- 【实例操作】修复聚合批量操作下处理个别操作聚合报错，导致拿不到授权范围接口数据
- 【实例操作】修复批量复制粘贴无可复制属性条件内容时会导致展示无限制问题
- 【实例操作】修复批量编辑无交集的操作导致出现空白页
- 【实例操作】修复权限模板编辑关联实例后提示授权的用户组更新信息不完整
- 【实例操作】修复管理空间模块无选择实例时，没有清空选择的旧数据
- 【实例操作】修复自定义日期选择器无法根据时间戳显示当前所选择的天数
- 【实例操作】修复只有一层拓扑且资源类型存在多条导致type取值错误
- 【人员选择器】处理 staff 角色在人员选择器里提示无权限问题
- 【人员选择器】修复人员选择器编辑组件内容为空，重新添加会重置上一次的数据
- 【人员选择器】添加成员支持模糊搜索（解决带登录域无法搜索问题）
- 【自定义权限】修复自定义权限申请—>编辑回显无法展示已选资源实例为无限制类型数据
- 【用户】优化组织架构人员选择器隐藏已选数量为0的 type
- 【权限模板】修复权限模板添加实例无法批量粘贴
- 【我的权限】修复我的权限—>用户组权限增加跨页选择
- 【我的权限】修复我的权限—>管理员交接增加跨页选择
- 【人员模板】修复已关联用户组的人员模板在批量删除的时候可以成功被删除
- 【用户同步】新增用户同步策略调整

### 用户管理 


#### 新增

- 【导航】功能菜单增加资源视图、集群、部署、项目、插件管理分类页面
- 【国际化】支持切换为英文界面
- 【集群管理】支持创建高可用的 K8S 原生集群
- 【集群管理】支持腾讯云TKE集群管理
- 【集群管理】支持使用云凭证导入谷歌云集群且可配置集群弹性伸缩（CA）
- 【容器日志】支持业务使用独立 ES 存储集群

#### 优化

- 【集群管理】集群列表页交互优化
- 【资源视图】若干功能优化
- 【Helm】若干功能优化
- 【容器日志】 采集规则配置交互优化


#### 修复

若干已知问题。


### 监控平台

#### 新增

- 【集成】采集状态链路监控
- 【告警源】公有云告警源插件

#### 优化

- 【性能优化】若干页面加载性能优化
- 【性能优化】告警后台若干 性能 & 稳定性 优化
- 【告警】告警推送消息队列：告警状态变更将自动推送
- 【性能优化】优化采集任务状态展示性能
- 【策略】告警分派功能及页面体验优化，分派命中后，不再触发默认通知
- 【策略】告警策略生效时间优化至 1min 以内
- 【集成】插件制作指标支持自动发现功能优化
- 【权限】仪表盘的权限粒度到仪表盘实例
- 【主机监控】主机监控列表页的主机筛选支持自定义业务拓扑层级筛选

#### 修复

- 【仪表盘】修复仪表盘跳转链接 404 问题 
- 【仪表盘】修复仪表盘 editable 权限错误
- 【策略】修复日志关键字指标回填策略显示问题
- 【集成】修复插件编辑指标未开启自动发现会报错的问题
- 【APM】修复 APM 应用列表接口报错引导页显示
- 【标签】修复内置标签初始化取值错误问题
- 【其他】修复其他若干问题


### 日志平台

#### 新增

- 【日志检索】新增索引集联合查询能力
- 【日志清洗】支持自定义分词器能力，支持字段级不同清洗配置
- 【日志脱敏】新增日志查询脱敏能力，可针对日志进行加密脱敏处理
  
#### 优化

- 【日志检索】优化索引集下拉列表的展示，无数据索引集后置
- 【日志检索】优化原始日志展示样式
- 【日志检索】优化日志查询报错、语法、样式，提供语法自动优化能力
- 【日志检索】支持忽略大小写的查询
- 【日志检索】优化日志检索速度和页面渲染速度
- 【采集器】采集器性能提升，采集速度可达110m/s
#### 修复

- 【日志检索】修复了第三方 ES 目录定位错误的问题


### 开发者中心

#### 新增

- 【基础功能】引入应用模型提供云原生部署体验，提供集中的模块配置界面，新增挂载卷、域名解析规则、DNS 服务器等配置功能
- 【基础功能】提供全局进程视图
- 【基础功能】提供更换应用密钥（bk_app_secret）功能
- 【构建】构建能力增强：支持Dockerfile ，能更灵活地构建各种编程语言的应用代码
- 【构建】直接部署预先构建好的镜像
- 【监控】蓝鲸内置 SaaS 支持 APM（依赖蓝鲸监控平台）
- 

#### 优化

- 【代码库】代码仓库操作相关超时时间默认改为：10分钟
- 【应用】S-mart 应用支持修改中文名
- 【API】云 API 权限过期后添加续期操作
- 【应用】登录框用 Windows.open 打开
- 【应用】应用列表、基本信息、增强服务实例详情、访问管理等页面优化
- 【API】开发者中心注册到 API 网关上的所有 API 都需要申请权限后才能调用
- 【组件】Python、Nodejs 组件依赖升级

#### 修复

- 【凭证】镜像凭证不能填写大于255个字符的问题
- 【应用部署】服务发现中申明未部署的模块报错问题


### API 网关

#### 新增

- 【后端服务】支持同一套网关对接多套后端服务
- 【插件】支持 header-rewrite
- 【UI】优化环境管理资源管理/插件管理/资源管理f等页面

#### 优化

- 【产品页面】环境管理/资源管理/权限管理等页面重新设计，提升用户体验
- 【产品页面】插件管理页面重新设计，更清晰的绑定关系
- 【产品页面】组件管理页面性能问题
- 【通用】登录框用 Windows.open 打开
- 【后端服务】代码重构，升级接口协议
- 【后端服务】Python/Go 依赖升级（升级 Python 到 3.10）
- 【后端服务】访问策略统一迁移成插件，原先通过环境变量实现的代理到多个后端服务，迁移到后端服务
- 【文档】网关 SDK 和 ESB SDK 文档

#### 修复

- 【插件】 IP白名单无法编辑


### 用户桌面

#### 新增

- 【通用】接入通知中心（默认未开启），支持发布平台公告（需部署消息通知中心）
- 【应用市场】添加应用评分功能 （默认未开启）

#### 优化
 
- 【组件】 Python、Nodejs 组件依赖升级
- 【应用认证】请求 ESB 的应用认证信息放到 header 头


#### 修复

- 【应用市场】应用评分为 None 时,无法在市场展示问题


### CI 持续集成平台 

#### 新增

- 【流水线】支持草稿和调试
- 【流水线】重构版本管理功能，支持版本对比，支持回滚到历史版本
- 【流水线】流水线变量管理升级，支持区分入参和非入参，支持常量，支持便捷引用系统内置变量
- 【流水线】支持查看代码库触发失败的原因，可以重放事件
- 【构建机】第三方构建机支持在单次构建内锁定


#### 优化和修复

- 【流水线】触发器和变量，提到一级入口
- 【流水线】权限管理提到查看页面，无需进入编辑页面修改权限
- 【流水线】流水线名称长度放开到 128 个字符
- 【流水线】流水线列表最近执行应该展示触发人
- 【流水线】构建分组并发时优化
- 【流水线】日志组件跳转功能兼容 firefox 浏览器
- 【流水线】流水线邮件通知，"耗时" 参数显示为空问题 
- 【流水线】Job 配额超限轮询 prepareTimeout 后未能及时中断流水线问题
- 【流水线】当流水线 job 中手动跳过的任务前有质量红线任务时会导致构建详情页渲染出错
- 【流水线】并发 Job 运行时进行重试和跳过出现异常问题
- 【触发器】调用 SVN API 时需要兼容三层 SVN 项目层级
- 【流水线插件】插件安装包支持缓存，提高流水线执行速度 
- 【流水线插件】UI 分组功能优化
- 【流水线插件】插件测试版本结束测试阶段或审核阶段后最新测试版本标识更新异常问题
- 【流水线模版】模版中不允许使用测试版本插件
- 【流水线模版】优化插件拖拽、新增时的性能
- 【流水线模版】模板编排页面拖拽逻辑不对问题
- 【构建机】优化 GoAgent 对于后台资源占用
- 【构建机】GoAgent 终止构建任务时增加重试
- 【构建机】GoAgent 细化异常状态提示
- 【构建机】环境共享构建机优化
- 【权限管理】修复 IAM 回调蓝盾获取项目慢问题
- 【权限管理】优化批量添加项目成员接口
- 【权限管理】申请权限时搜索项目问题优化
- 【权限管理】申请加入用户组 ITSM 单据内容不详细问题
- 【权限管理】修复代码库权限丢失问题 
- 【权限管理】项目管理-项目最大可授权人员范围选择全员显示为空问题
- 【OpenApi】限制接口数据拉取时最大分页
- 【平台】优化网关内核参数
- 【平台】解决用户重装蓝盾因为项目数据不一致导致初始化镜像失败问题 


### CI 代码分析（CodeCC）

#### 新增

- 【任务】代码统计页面支持展示文件数量，补充对空文件的统计
- 【代码扫描】支持P4代码库扫描
- 【代码扫描】MR/PR扫描方式可以根据扫描规则的粒度如函数级、文件级、行级等来决策最终本次MR产生的告警


#### 优化

- 【规则集】规则列表中增加正确示例
- 【代码扫描】扫描失败指标区分是用户原因还是平台原因
- 【任务】通过缓存技术优化问题详情查看体验
- 【任务】总览-按工具的工具标签根据用户选择的规则集来自动生成
- 【任务】代码问题/圈复杂度的日期筛选应该是"提交日期"，而不是"创建日期" 

#### 修复
- 【任务】修复 SVN 项目无法通过文件名在选择路径中查找到相关告警 
- 【任务】修复数据库慢查询
- 【任务】修复不规范的过滤路径添加后会导致全部过滤路径被删除
- 【任务】修复拉取 SVN 代码扫描后出现的告警偶现"系统出现异常" 
- 【任务】修复无法将 圈复杂度 告警设置为"工具误报" 
- 【任务】修复告警处理的权限校验返回信息不准确 
- 【任务】修复圈复杂度工具快照批量忽略告警不生效
- 【代码扫描】修复告警跟踪添加 Hash 去重与忽略优先匹配
- 【代码扫描】修复快照存储忽略告警时，使用upsert导致性能太差
- 【代码扫描】修复 Perforce 仓库接入的项目，扫描后查看告警代码异常
- 【代码扫描】修复重复率提单报错
- 【代码扫描】修复频繁变更仓库的扫描任务会导致仓库分析记录过长
- 【代码扫描】修复 lint 类告警统计和代码仓库信息统计不应存在两个相同 buildId 的记录
- 【规则集】修复用户选择其他版本规则集后，无法重新选择 latest 版本



### 管控平台

#### 新增

- 【新增】代理模块(GSE Agent)支持容器环境基础管控能力 
- 【新增】代理模块(GSE Agent)支持 Apple MacOS 系统基础管控能力
- 【新增】代理模块(GSE Agent)支持混沌工程场景基础原子能力  
- 【新增】代理模块(GSE Agent)支持非固定硬件指纹场景 fake seed 策略
- 【新增】任务服务(GSE Task)支持任务结果按照 limit 分批查询返回  
- 【新增】数据服务(GSE Data)支持上报数据按照标签匹配就近投递   
- 【新增】数据服务(GSE Data)支持 kafka 标准压缩模式的数据投递

#### 优化

- 【优化】代理模块(GSE Agent)优化文件传输的终态数据上报模式保持重试直到成功为止             
- 【优化】代理模块(GSE Agent)文件传输将压缩和解压缩线程剥离提高文件传输稳定性  
- 【优化】代理模块(GSE Agent)针对系统 system clock 实现 hook 避免机器 tick 被篡改造成系统异常
- 【优化】基础平台服务(GSE Cluster)上行消息随机 service 路由选择逻辑优化提高上行消息投递效率 
- 【优化】基础平台服务(GSE Cluster)替换随机实现为非确定性随机数以此减少 ID 生成时随机位碰撞
- 【优化】任务服务(GSE Task)优化任务 redis 存储数据过期时间刷新规则减少整体平均存储占用  

#### 修复

- 【修复】代理模块(GSE Agent)修复脚本执行实现中的内存泄露问题   
- 【修复】代理模块(GSE Agent)修复 libtorrent 在 Windows 下传输导致内网 drop 入包的问题 
- 【修复】代理模块(GSE Agent)优化长时间任务执行中无日志上报造成任务态过期的问题 
- 【修复】代理模块(GSE Agent)修复进程管理 setenv 在并发执行脚本的情况下可能存在环境变量相互覆盖的问题     
- 【修复】代理模块(GSE Agent)修复文件传输在 Windows 上制作种子时未使用宽字符处理路径的问题
- 【修复】代理模块(GSE Agent)修复任务执行中错误关闭 pipe 资源造成进程内fd混乱的问题 
- 【修复】代理模块(GSE Agent)修复任务执行脚本之间依赖关系未按照预期顺序执行的问题 
- 【修复】代理模块(GSE Agent)修复任务执行中获取账户基础信息 getpwnam 函数存在多线程不安全的问题 
- 【修复】代理模块(GSE Agent)修复 Windows 上清理压缩文件时文件还被 libtorrent 持有句柄会出现删除失败的问题 
- 【修复】代理模块(GSE Agent)修复 Windows上nssm 引发的字符编码转换错误造成任务无法按照预期执行的问题 
- 【修复】任务服务(GSE Task)修复任务打屏信息因内部数据处理错误造成乱序和丢失的问题 
- 【修复】任务服务(GSE Task)修复文件传输策略中错误的定时调用导致回掉堆积影响正常加载逻辑的问题


### 部署脚本

#### 新增

- 【中间件】新增 MySql8 的可选部署
- 【蓝鲸组件】蓝鲸消息通知中心

#### 优化
- 【中间件】升级xxx组件版本。
- 【中间件】influxdb 的存储索引类型默认改为tsi1。
- 【蓝鲸组件】适配 bcs 1.29 版本部署
- 【蓝鲸组件】作业平台默认为轻量化部署
- 【蓝鲸组件】默认资源配额优化
- 【蓝鲸组件】过时的部署参数清理

#### 修复

- 【蓝鲸组件】配置平台和权限中心 bk_language 切换的 cookieDomain 配置



### LessCode（蓝鲸运维开发平台）

#### 新增

- 【应用】新建应用区分 Vue2 跟 Vue3, 支持拖拽 Vue3 应用
- 【画布】画布UI重构，更新物料区、菜单栏、配置区
- 【画布】组件属性增加中文描述

#### 优化

- 【应用】预览页跟画布编辑页自定义组件加载速度优化
- 【应用】创建页面失败自动定位到报错字段位置
- 【应用】保存变量时，校验变量格式并错误提示
- 【函数&API】API 使用提示优化
- 【数据源】SQL 语句在 API 层面加密传输
- 【数据源】兼容 ENUM 类型

#### 修复

- 【应用】国际化相关样式问题
- 【画布】进入画布时，数据未更新问题
- 【画布】复制拥有相同 type 类型组件时，数据异常问题
- 【画布】自由布局的粘贴位置问题
- 【画布】v-vtml 预览跟部署后变现不一致问题
- 【画布】Echart 图表无法自适应屏幕宽高变化问题
- 【画布】Vue3中 table 偶现无法删除、无法渲染问题
- 【移动端画布】漂浮栏滚动位置错误问题
- 【移动端画布】 vant 样式冲突问题
- 【表单容器】表单字段数据源支持数据表相关问题修复
- 【表单容器】表单容器内 radio 事件不生效问题



### 服务配置中心（BSCP）

#### 新增

- 【配置管理】集中管理业务和服务层级的配置 
- 【配置管理】支持文件型（File）和键值型（KV）配置类型 

### 消息通知中心（BKNotice）

- 【通用】支持发送平台公告（吸顶跑马灯）和运营通告（弹窗显示）
- 【通用】支持第三方 SaaS 对接

## 容器管理平台 (BCS)

#### 新增

- 【UI】 功能菜单增加资源视图、集群、部署、项目、插件管理分类页面
- 【集群管理】 支持腾讯云TKE集群管理

## 流程引擎 (BKFLow)

#### 新增

- 【功能概述】是一款面向 SaaS 开发者的流程引擎服务，提供了流程编排、任务执行、画布嵌入、决策引擎、拓展插件、自定义权限控制等能力
- 【流程编排】提供流程编辑、调试和任务执行能力，开发者可通过页面直接嵌入到对应的 SaaS
- 【画布嵌入】开发者使用“画布链接”即可将画布嵌入到对应的SaaS
- 【决策引擎】支持流程级别决策表配置，可简化流程编辑复杂度
- 【拓展插件】支持系统接入方通过第三方插件（蓝鲸插件）和 API 插件进行业务拓展
- 【空间配置】系统接入方支持灵活的空间配置