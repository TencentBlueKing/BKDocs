
    <html lang="zh-cn">
    <head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type" />
    <link href="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/default.css" rel="stylesheet">
    </head>
    <body>
    <h1 id="_1">产品简介</h1>
<p>蓝鲸用户管理 (BKUSER) 是蓝鲸智云提供的企业组织架构、多用户目录等集中的用户管理解决方案，为企业统一登录提供认证源服务。</p>
<p><img alt="image-20201110171106142" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/产品简介/README/image-20201110171106142.png" /></p><h1 id="_1">术语解释</h1>
<p>在使用蓝鲸用户管理产品前，快速了解一些基本名词概念。</p>
<h2 id="_2">用户目录</h2>
<p>一个用户目录代表一类用户来源，企业可以同时管理自己企业内部用户、外部用户。</p>
<h2 id="_3">用户</h2>
<p>用户是蓝鲸体系统一认证的身份，一个用户代表一个自然人。</p>
<h2 id="_4">组织架构</h2>
<p>组织架构是企业管理用户的组织形式，一个用户目录下可以有多个组织架构树。</p><h1 id="_1">产品优势</h1>
<h2 id="_2">组织架构管理</h2>
<p>用户管理支持多层级的组织架构管理。</p>
<h2 id="_3">多用户目录</h2>
<p>目前支持的通用用户目录协议包括：OpenLDAP、Microsoft Active Directory(MAD)、本地用户目录。</p>
<h2 id="_4">用户密码安全管理</h2>
<p>支持用户密码周期管理、密码强度校验、用户登录试错限制、邮件发送随机密码等安全管理。</p>
<p><img alt="image-20201110171457545" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/核心优势/Feature/image-20201110171457545.png" /></p><h1 id="_1">产品架构</h1>
<p><img alt="BKUSER产品架构图" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/产品架构/Architecture/BKUSER产品架构图-5256256.png" /></p><h1 id="_1">如何新增本地用户</h1>
<p>本章节介绍如何在<code>默认目录</code>下新增本地用户，新增本地用户可以手动创建，也可以通过 Excel 表格批量导入。</p>
<h2 id="_2">前置条件</h2>
<blockquote>
<p>需要有默认目录的组织和成员管理权限，或者默认目录的管理权限。</p>
</blockquote>
<h2 id="_3">手动创建</h2>
<ol>
<li>点击<code>组织架构菜单</code>，在组织架构页面下，选择默认目录，点击<code>添加组织</code>，输入组织名手动添加根组织，如需创建层级组织，可以在需要的组织右侧点击<code>添加组织</code>进行子级组织的创建。</li>
</ol>
<p><img alt="image-20201110175026788" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddLocalUsers/image-20201110175026788.png" /></p>
<ol>
<li>
<p>选择新创建的组织，在右侧面板，点击<code>新增用户</code>进行用户添加。</p>
</li>
<li>
<p>用户名：用户唯一标识，必填，<code>由1-32位字母、数字、下划线(_)、点(.)、减号(-)字符组成，以字母或数字开头</code></p>
</li>
<li>全名：用户<code>别名</code>，必填，<code>全名可随时修改，长度为1-32个字符</code></li>
<li>邮箱：用户工作邮箱，必填，<code>如需使用通过邮件发送随机密码或者用户可以通过忘记密码来找回密码，邮箱必须全局唯一</code></li>
<li>手机号：用户手机号，必填</li>
<li>微信：选填</li>
<li>QQ：选填</li>
<li>直接上级：用户直属 leader，<code>在配置审批流程时可以使用该字段</code></li>
<li>所在组织：用户所属组织，每个用户必须属于某个组织</li>
<li>密码有效期：用户密码有效期，过了密码有效期，会提示用户修改密码</li>
</ol>
<p><img alt="image-20201110175416545" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddLocalUsers/image-20201110175416545.png" /></p>
<ol>
<li>填写完用户信息，点击<code>保存</code>，用户创建完成后会显示在用户列表的第一行。</li>
</ol>
<p><img alt="image-20201110180349466" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddLocalUsers/image-20201110180349466.png" /></p>
<ol>
<li>用户登录： 默认用户目录的用户登录时，直接输入用户名即可。</li>
</ol>
<p><img alt="image-20201110181919833" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddLocalUsers/image-20201110181919833.png" /></p>
<h2 id="_4">批量导入</h2>
<ol>
<li>点击<code>用户目录</code>，选择需要导入用户的<code>本地用户目录</code>，点击<code>导入</code>按钮。</li>
</ol>
<p><img alt="image-20201110180725063" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddLocalUsers/image-20201110180725063.png" /></p>
<ol>
<li>下载导入模板表格。</li>
</ol>
<p><img alt="image-20201110180845005" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddLocalUsers/image-20201110180845005.png" /></p>
<ol>
<li>
<p>根据模板样例，填写用户信息，<code>红色字体为必填信息</code>。</p>
</li>
<li>
<p>用户名：用户唯一标识，必填，<code>由1-32位字母、数字、下划线(_)、点(.)、减号(-)字符组成，以字母或数字开头</code>。</p>
</li>
<li>全名：用户<code>别名</code>，必填，<code>全名可随时修改，长度为1-32个字符</code>。</li>
<li>邮箱：用户工作邮箱，必填，<code>如需使用通过邮件发送随机密码或者用户可以通过忘记密码来找回密码，邮箱必须全局唯一</code>。</li>
<li>手机号：用户手机号，必填。</li>
<li>账户状态：默认<code>正常</code>。</li>
<li>在职状态：默认<code>在职</code>。</li>
<li>组织：请从根组织开始填写（注意不需要填写用户目录）。</li>
</ol>
<p><img alt="image-20201110181035675" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddLocalUsers/image-20201110181035675.png" /></p>
<ol>
<li>选择上一步骤编辑好的用户信息表格上传，点击<code>提交</code>完成导入，导入成功后，在<code>组织架构页面</code>对应的用户目录下可以查看用户人员信息。</li>
</ol>
<p><img alt="image-20201110181549135" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddLocalUsers/image-20201110181549135.png" /></p>
<ol>
<li>用户登录： 默认用户目录的用户登录时，直接输入用户名即可。</li>
</ol>
<p><img alt="image-20201110181919833" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddLocalUsers/image-20201110181919833.png" /></p><h1 id="_1">如何创建本地用户目录</h1>
<p>本章节介绍如何创建本地用户目录，如何在本地用户目录里添加用户和组织。</p>
<h2 id="_2">前置条件</h2>
<blockquote>
<p>需要先申请组织和成员的管理权限，或者默认目录管理权限。</p>
</blockquote>
<h2 id="_3">操作步骤</h2>
<ol>
<li>点击<code>用户目录 -&gt; 新建目录</code>，选择<code>本地用户</code>目录类型进行目录创建进入下一步。</li>
</ol>
<p><img alt="image-20201015090742968" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddLocalDirectory/image-20201015090742968.png" /></p>
<ol>
<li>
<p>在<code>基本设置</code>页面，填写目录基本信息。</p>
</li>
<li>
<p>目录名：目录名称，保存后可以随时修改；</p>
</li>
<li>登录域：用来区分用户来源，为了方便区分，一般为公司<code>代号</code>，保存后不可修改。</li>
</ol>
<p><img alt="image-20201015090913528" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddLocalDirectory/image-20201015090913528.png" /></p>
<ol>
<li>
<p>在<code>密码设置</code>页面，主要配置密码安全规则相关的设置，均可默认不变。</p>
</li>
<li>
<p>密码长度：默认为 8 位，最大可以设置为 32 位；</p>
</li>
<li>密码必须包含：作用于该目录下的所有用户，密码必须符合该规则；</li>
<li>密码有效期：统一设置密码有效期值，达到密码有效期时间，用户需要重新设置密码；</li>
<li>密码试错次数：用户登录时，允许尝试登录的最大次数，登录失败会自动锁定；</li>
<li>自动解锁时间：用户登录锁定后，需要等待解锁时间才能继续尝试登录；</li>
<li>初始密码获取方式：默认为统一初始密码，<code>企业可以修改为由邮箱统一发送随机密码，前提是需要完成邮箱网关的配置</code>；</li>
<li>自动冻结：用户长时间未登录时，蓝鲸平台将自动冻结该用户，如需再次登录，需要管理员解禁。</li>
</ol>
<p><img alt="image-20201015091136781" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddLocalDirectory/image-20201015091136781.png" /></p>
<ol>
<li>设置完成，点击<code>提交</code>创建本地用户目录，目录创建完成后可以继续<code>导入</code>用户和组织。</li>
</ol>
<p><img alt="image-20201015091805024" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddLocalDirectory/image-20201015091805024.png" /></p>
<ol>
<li>也可以在组织架构页面，进行手动添加用户和组织。</li>
</ol>
<p><img alt="image-20201015091938590" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddLocalDirectory/image-20201015091938590.png" /></p>
<ol>
<li>尝试用户直接登录蓝鲸。</li>
</ol>
<p>输入用户名时，除了默认目录外，其他目录的用户需要使用<code>用户名@登录域</code>的形式登陆。</p>
<p><img alt="image-20201110182149089" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddLocalDirectory/image-20201110182149089.png" /></p><h1 id="ldap">如何对接已有的 LDAP 用户体系</h1>
<p>本章节介绍如何创建 OpenLDAP 目录，并且同步 LDAP 用户到用户管理。</p>
<h2 id="_1">前置条件</h2>
<blockquote>
<ol>
<li>
<p>需要有已经搭建好的 LDAP 服务</p>
</li>
<li>
<p>需要申请 OpenLDAP 目录的新建权限</p>
</li>
</ol>
</blockquote>
<h2 id="_2">操作步骤</h2>
<ol>
<li>点击<code>用户目录 -&gt; 新建目录</code>，选择<code>OpenLDAP</code>目录类型进行目录创建并进入下一步。</li>
</ol>
<p><img alt="image-20201015072854869" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddLdapDirectory/image-20201015072854869.png" /></p>
<ol>
<li>
<p>在<code>基本设置</code>页面，填写基本信息。</p>
</li>
<li>
<p>目录名：目录名称，保存后可随时修改；</p>
</li>
<li>登录域：登录域是用来登录的时候区分用户来源，为了方便区分，一般为公司<code>代号</code>，保存后不可修改。</li>
</ol>
<p><img alt="image-20201015073229219" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddLdapDirectory/image-20201015073229219.png" /></p>
<ol>
<li>
<p>在<code>连接设置</code>页面，填写连接 LDAP 服务器的基本信息。</p>
</li>
<li>
<p>连接地址：LDAP 服务器地址，一般直接填写 LDAP 服务器的 IP 地址，或者<code>IP:PORT</code>形式，端口如果是默认的可以不填写；</p>
</li>
<li>SSL 加密方式：默认即可；</li>
<li>超时设置：尝试连接 LDAP 服务器的连接超时设置；</li>
<li>拉取周期：同步 LDAP 用户数据的周期，填写<code>0</code>表示不自动拉取；</li>
<li>根目录：LDAP 根目录，默认<code>cn</code>即可；</li>
<li>用户名：登录 LDAP 服务的用户名；</li>
<li>密码：登录 LDAP 服务的用户名密码；</li>
</ol>
<p>填写完后，点击<code>测试连接</code>如果正常会提示成功信息，如有错误，请查看用户管理后台日志信息。</p>
<p><img alt="image-20201015073608267" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddLdapDirectory/image-20201015073608267.png" /></p>
<ol>
<li>在<code>字段配置</code>页面，主要配置拉取字段的信息，只需要填写用户基础字段信息，其他字段信息可以保持默认，具体字段值参考如下图。</li>
</ol>
<p><img alt="image-20201015074637709" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddLdapDirectory/image-20201015074637709.png" /></p>
<ol>
<li>上述所有信息填写确认后，点击<code>提交</code>即完成 OpenLDAP 用户目录的创建，创建完成，可以立即进行用户信息同步。</li>
</ol>
<p><img alt="image-20201015074933666" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddLdapDirectory/image-20201015074933666.png" /></p>
<ol>
<li>同步完用户信息，在组织架构页面可以查看同步过来的组织架构数据。</li>
</ol>
<p><img alt="image-20201015075106518" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddLdapDirectory/image-20201015075106518.png" /></p>
<ol>
<li>尝试用 LDAP 的用户直接登录蓝鲸。</li>
</ol>
<p>输入用户名时，除了默认目录外，其他目录的用户需要使用<code>用户名@登录域</code>的形式登陆。</p>
<p><img alt="image-20201110182149089" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddLdapDirectory/image-20201110182149089.png" /></p><h1 id="mad">如何对接已有的 MAD 用户体系</h1>
<p>本章节介绍如何创建 Microsoft Active Directory(MAD) 目录，并且同步 MAD 用户到用户管理。</p>
<h2 id="_1">前置条件</h2>
<blockquote>
<ol>
<li>
<p>需要有已经搭建好的 MAD 服务</p>
</li>
<li>
<p>需要申请 MAD 目录的新建权限</p>
</li>
</ol>
</blockquote>
<h2 id="_2">操作步骤</h2>
<ol>
<li>点击<code>用户目录 -&gt; 新建目录</code>，选择<code>Microsoft Active Directory</code>目录类型进行目录创建并进入下一步。</li>
</ol>
<p><img alt="image-20201110173821167" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddMADDirectory/image-20201110173821167.png" /></p>
<ol>
<li>
<p>在<code>基本设置</code>页面，填写基本信息。</p>
</li>
<li>
<p>目录名：目录名称，保存后可随时修改；</p>
</li>
<li>登录域：登录域是用来登录的时候区分用户来源，为了方便区分，一般为公司<code>代号</code>，保存后不可修改。</li>
</ol>
<p><img alt="image-20201015073229219" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddLdapDirectory/image-20201015073229219.png" /></p>
<ol>
<li>
<p>在<code>连接设置</code>页面，填写连接 MAD 服务器的基本信息。</p>
</li>
<li>
<p>连接地址：MAD 服务器地址，一般直接填写 MAD 服务器的 IP 地址，或者<code>IP:PORT</code>形式，端口如果是默认的可以不填写；</p>
</li>
<li>SSL 加密方式：默认即可；</li>
<li>超时设置：尝试连接 MAD 服务器的连接超时设置；</li>
<li>拉取周期：同步 MAD 用户数据的周期，填写<code>0</code>表示不自动拉取；</li>
<li>根目录：MAD 根目录，默认<code>cn</code>即可；</li>
<li>用户名：登录 MAD 服务的用户名；</li>
<li>密码：登录服务的用户名密码；</li>
</ol>
<p>填写完后，点击<code>测试连接</code>如果正常会提示成功信息，如有错误，请查看用户管理后台日志信息。</p>
<p><img alt="image-20201110174120747" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddMADDirectory/image-20201110174120747.png" /></p>
<ol>
<li>在<code>字段配置</code>页面，主要配置拉取字段的信息，只需要填写用户基础字段信息，其他字段信息可以保持默认，具体字段值参考如下图。</li>
</ol>
<p><img alt="image-20201110174231102" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddMADDirectory/image-20201110174231102.png" /></p>
<ol>
<li>上述所有信息填写确认后，点击<code>提交</code>即完成 MAD 用户目录的创建，创建完成，可以立即进行用户信息同步。</li>
</ol>
<p><img alt="image-20201110174344369" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddMADDirectory/image-20201110174344369.png" /></p>
<ol>
<li>同步完用户信息，在组织架构页面可以查看同步过来的组织架构数据。</li>
</ol>
<p><img alt="image-20201110174508332" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddMADDirectory/image-20201110174508332.png" /></p>
<ol>
<li>尝试用 MAD 的用户直接登录蓝鲸。</li>
</ol>
<p>输入用户名时，除了默认目录外，其他目录的用户需要使用<code>用户名@登录域</code>的形式登陆。</p>
<p><img alt="image-20201110182149089" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/快速入门/AddMADDirectory/image-20201110182149089.png" /></p><h1 id="_1">组织架构</h1>
<p>组织架构是人员管理的组织形式，支持多层级组织，组织架构根据所属用户目录的类型表现形式有差异。</p>
<ul>
<li>OpenLDAP、MAD 用户目录，组织架构默认只读，管理员无法编辑；</li>
<li>本地用户目录，组织架构可以编辑。</li>
</ul>
<p>本文重点讲<code>本地用户目录</code>类型的组织架构和用户信息管理。</p>
<p><img alt="image-20201014151256300" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/产品功能/Organizations/image-20201014151256300.png" /></p>
<h2 id="_2">新增根组织</h2>
<p>新增根组织的前提，必须是存在可编辑的用户目录类型（这里指本地用户目录）。</p>
<p>选择需要创建根组织的用户目录，点击<code>更多</code>的 icon，弹出面板（如下图），可以进行根组织的添加，一个用户目录支持多个根组织的添加。</p>
<p><img alt="image-20201014151658564" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/产品功能/Organizations/image-20201014151658564.png" /></p>
<h2 id="_3">编辑组织</h2>
<p>鼠标移至需要编辑的组织名称，点击<code>更多</code>icon，弹出面板（如下图），选择需要编辑的操作项对该组织进行编辑。</p>
<ul>
<li>添加下级组织：任何一个组织都可以添加下级组织</li>
<li>上移/下移：同级组织之间可以调换顺序</li>
<li>重命名：重命名对应组织</li>
<li>复制组织 ID/名称：复制对应组织的 ID 或名称</li>
<li>删除：当组织下没有用户时才能被删除</li>
</ul>
<p><img alt="image-20201014152034323" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/产品功能/Organizations/image-20201014152034323.png" /></p>
<h2 id="_4">组织添加用户</h2>
<p>组织添加用户可以有几种方式：<code>新增用户、批量新用户导入、从已有组织拉取</code>，前两者是新增用户，后者是为了实现一个用户跨多个组织。</p>
<h3 id="_5">新增用户</h3>
<p>点击需要添加用户的组织，右侧点击<code>添加用户 -&gt; 新增用户</code>，在弹出的滑窗里填写用户详细信息，点击<code>保存</code>成功添加新用户，新增的用户默认会显示在表格首行。</p>
<p><img alt="image-20201014210740626" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/产品功能/Organizations/image-20201014210740626.png" /></p>
<h3 id="_6">从其他组织拉取</h3>
<p>点击需要添加用户的组织，右侧点击<code>添加用户 -&gt; 从其他组织拉取</code>，在弹出的输入框里，输入具体需要添加的用户名，点击提交进行批量添加。</p>
<p><img alt="image-20201014212156354" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/产品功能/Organizations/image-20201014212156354.png" /></p>
<h3 id="_7">批量导入用户</h3>
<p>切换到<code>用户目录</code>菜单下，找到可以批量导入的用户目录，点击<code>导入</code>，下载对应导入模板，模板里红色字体为必填项。</p>
<p>填写好用户信息后再导入即可完成批量用户新增。</p>
<p><img alt="image-20201014211538970" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/产品功能/Organizations/image-20201014211538970.png" /></p>
<h2 id="_8">管理用户</h2>
<p>点击需要管理的用户，在弹出的滑窗里，可以对该用户进行<code>编辑</code>、<code>禁用</code>、<code>删除</code>、<code>重置密码</code>这些操作。</p>
<ul>
<li>编辑：编辑用户基本信息</li>
<li>禁用：用户禁用后将无法进行登录操作，接触禁用可以继续登录</li>
<li>删除：用户删除后将进入回收站，后续版本支持从回收站恢复被删除用户</li>
<li>重置密码：管理员可以帮用户重置登录密码</li>
</ul>
<p><img alt="image-20201014212355082" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/产品功能/Organizations/image-20201014212355082.png" /></p><h1 id="_1">用户目录</h1>
<p>用户目录代表一类用户来源，用户管理支持通用的用户目录：OpenLDAP、MAD，也支持本地用户目录类型。</p>
<ul>
<li>OpenLDAP 目录：支持通用的 OpenLDAP 协议，该用户目录仅同步 ldap 的组织和用户信息，同步过来后组织和用户信息只读，对应的用户可以直接登录蓝鲸。</li>
<li>MAD：MAD 为 Microsoft Active Directory 的缩写，协议跟 OpenLDAP 目录协议类似，通用该用户目录仅同步 MAD 的组织和用户信息，同步过来后组织和用户信息只读，对应的用户可以直接登录蓝鲸。</li>
<li>本地用户目录：蓝鲸用户管理保留了本地编辑组织和用户的功能，本地用户目录下的组织和用户需要管理员去创建。 </li>
</ul>
<p><img alt="image-20201014215840276" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/产品功能/Directories/image-20201014215840276.png" /></p><h1 id="_1">审计</h1>
<p>审计功能记录用户在用户管理的所有操作行为。</p>
<p><img alt="image-20201015072007240" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/产品功能/Audits/image-20201015072007240.png" /></p><h1 id="_1">用户字段设置</h1>
<p>用户管理提供基本的默认字段，如果企业需要有额外的字段，可以在<code>设置</code>菜单下，添加自定义字段。</p>
<p><img alt="image-20201014213819535" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/产品功能/Fields/image-20201014213819535.png" /></p>
<p>在<code>设置</code>页面里，点击<code>添加字段</code>按钮进行字段添加。</p>
<ul>
<li>字段名称：字段别名，可修改</li>
<li>英文标识：字段唯一 ID，保存后不可修改</li>
<li>字段类型：目前支持字符串、数值、枚举、日期</li>
<li>必填：表示该字段在用户信息里必须填写</li>
<li>唯一：表示该字段在不同的用户信息里不能重复</li>
<li>可编辑：表示该字段在用户信息里可编辑</li>
</ul>
<p><img alt="image-20201014214320439" src="F:\v_awjliu\社区版文档\BlueKingDocsTest\ZH/6.0/用户管理/产品白皮书/产品功能/Fields/image-20201014214320439.png" /></p><h2 id="api">蓝鲸用户管理 API 简介</h2>
<table>
<thead>
<tr>
<th>资源名称</th>
<th>资源描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="./department_ancestor.md">department_ancestor</a></td>
<td>查询部门全部祖先 (旧版接口，不推荐使用，后续会下架，请尽快迁移)</td>
</tr>
<tr>
<td><a href="./list_department_profiles.md">list_department_profiles</a></td>
<td>查询部门的用户信息 (v2)</td>
</tr>
<tr>
<td><a href="./list_departments.md">list_departments</a></td>
<td>查询部门 (v2)</td>
</tr>
<tr>
<td><a href="./list_profile_departments.md">list_profile_departments</a></td>
<td>查询用户的部门信息 (v2)</td>
</tr>
<tr>
<td><a href="./list_users.md">list_users</a></td>
<td>查询用户 (v2)</td>
</tr>
<tr>
<td><a href="./retrieve_department.md">retrieve_department</a></td>
<td>查询单个部门信息 (v2)</td>
</tr>
<tr>
<td><a href="./retrieve_user.md">retrieve_user</a></td>
<td>查询单个用户信息 (v2)</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/usermanage/department_ancestor/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询部门全部祖先，包括自己</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>整数</td>
<td>是</td>
<td>部门 ID</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;id&quot;: 296
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;Success&quot;,
    &quot;code&quot;: 0,
    &quot;data&quot;: [
        {
            &quot;id&quot;: 291,
            &quot;name&quot;: &quot;数字公司&quot;,
            &quot;has_children&quot;: true
        },
        {
            &quot;id&quot;: 296,
            &quot;name&quot;: &quot;开发组&quot;,
            &quot;has_children&quot;: false
        }
    ],
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，0 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>array</td>
<td>结果</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>部门名</td>
</tr>
<tr>
<td>has_children</td>
<td>bool</td>
<td>是否有子部门</td>
</tr>
<tr>
<td>id</td>
<td>int</td>
<td>部门 ID</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/usermanage/list_department_profiles/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>请求某部门的用户信息</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>lookup_field</td>
<td>字符串</td>
<td>否</td>
<td>查询字段, 默认为 'id'</td>
</tr>
<tr>
<td>recursive</td>
<td>布尔</td>
<td>否</td>
<td>是否级联查询部门用户,默认为否</td>
</tr>
<tr>
<td>no_page</td>
<td>布尔</td>
<td>否</td>
<td>是否不分页一次性返回所有结果，默认为否</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
  &quot;recursive&quot;: true
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;Success&quot;,
    &quot;code&quot;: 0,
    &quot;data&quot;: [
        {&quot;username&quot;:&quot;GW67279&quot;,&quot;id&quot;:90909},
        {&quot;username&quot;:&quot;GW67280&quot;,&quot;id&quot;:90910},
        {&quot;username&quot;:&quot;GW67281&quot;,&quot;id&quot;:90911}
    ],
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，0 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>array</td>
<td>结果</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/usermanage/list_departments/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>获取部门列表</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>lookup_field</td>
<td>字符串</td>
<td>否</td>
<td>查找字段, 默认值为 'id'</td>
</tr>
<tr>
<td>page</td>
<td>整数</td>
<td>否</td>
<td>页码</td>
</tr>
<tr>
<td>no_page</td>
<td>布尔</td>
<td>否</td>
<td>是否返回全部结果，默认为否</td>
</tr>
<tr>
<td>page_size</td>
<td>整数</td>
<td>否</td>
<td>每页结果数量</td>
</tr>
<tr>
<td>fields</td>
<td>字符串</td>
<td>否</td>
<td>返回值字段, 例如"username,id"</td>
</tr>
<tr>
<td>exact_lookups</td>
<td>字符串</td>
<td>否</td>
<td>精确查找内容列表, 例如"jack,pony"</td>
</tr>
<tr>
<td>fuzzy_lookups</td>
<td>字符串</td>
<td>否</td>
<td>模糊查找内容列表, 例如"jack,pony"</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
  &quot;fields&quot;: &quot;name,id&quot;,
  &quot;no_page&quot;: true
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;Success&quot;,
    &quot;code&quot;: 0,
    &quot;data&quot;: [{
        &quot;id&quot;: 4,
        &quot;name&quot;: &quot;PaaS&quot;,
    }],
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，0 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>array</td>
<td>结果</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/usermanage/list_profile_departments/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>请求某个用户的部门信息</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>lookup_field</td>
<td>字符串</td>
<td>否</td>
<td>查询字段, 默认为 'username'</td>
</tr>
<tr>
<td>with_family</td>
<td>布尔</td>
<td>否</td>
<td>结果是否返回部门树, 默认为否</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
  &quot;with_family&quot;: true
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;Success&quot;,
    &quot;code&quot;: 0,
    &quot;data&quot;: [{
        &quot;id&quot;: 4,
        &quot;name&quot;: &quot;PaaS&quot;,
        &quot;family&quot;: [
           {&quot;id&quot;: 5, &quot;name&quot;: &quot;BlueKing1&quot;},
           {&quot;id&quot;: 6, &quot;name&quot;: &quot;BlueKing2&quot;},
        ]
    }],
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，0 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>array</td>
<td>结果</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/usermanage/list_users/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>获取用户列表</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>lookup_field</td>
<td>字符串</td>
<td>否</td>
<td>查找字段, 默认值为 'username'</td>
</tr>
<tr>
<td>page</td>
<td>整数</td>
<td>否</td>
<td>页码</td>
</tr>
<tr>
<td>no_page</td>
<td>布尔</td>
<td>否</td>
<td>是否返回全部结果，默认为否</td>
</tr>
<tr>
<td>page_size</td>
<td>整数</td>
<td>否</td>
<td>每页结果数量</td>
</tr>
<tr>
<td>fields</td>
<td>字符串</td>
<td>否</td>
<td>返回值字段, 例如"username,id"</td>
</tr>
<tr>
<td>exact_lookups</td>
<td>字符串</td>
<td>否</td>
<td>精确查找内容列表, 例如"jack,pony"</td>
</tr>
<tr>
<td>fuzzy_lookups</td>
<td>字符串</td>
<td>否</td>
<td>模糊查找内容列表, 例如"jack,pony"</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
  &quot;fields&quot;: &quot;username,id&quot;,
  &quot;no_page&quot;: true
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;Success&quot;,
    &quot;code&quot;: 0,
    &quot;data&quot;: [{
        &quot;id&quot;: 4,
        &quot;username&quot;: &quot;jackma&quot;,
    }],
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，0 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>array</td>
<td>结果</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/usermanage/retrieve_department/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询部门具体信息</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>lookup_field</td>
<td>字符串</td>
<td>否</td>
<td>查询字段, 默认为 'username'</td>
</tr>
<tr>
<td>fields</td>
<td>字符串</td>
<td>否</td>
<td>返回字段, 例如 "username,id"</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
  &quot;fields&quot;: &quot;name,id&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;Success&quot;,
    &quot;code&quot;: 0,
    &quot;data&quot;: {
        &quot;id&quot;: 4,
        &quot;username&quot;: &quot;PaaS&quot;,
    },
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，0 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>array</td>
<td>结果</td>
</tr>
</tbody>
</table><h3 id="_1">请求地址</h3>
<p>/api/c/compapi/v2/usermanage/retrieve_user/</p>
<h3 id="_2">请求方法</h3>
<p>GET</p>
<h3 id="_3">功能描述</h3>
<p>查询用户具体详情</p>
<h3 id="_4">请求参数</h3>
<h4 id="_5">通用参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必选</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>bk_app_code</td>
<td>string</td>
<td>是</td>
<td>应用 ID</td>
</tr>
<tr>
<td>bk_app_secret</td>
<td>string</td>
<td>是</td>
<td>安全密钥(应用 TOKEN)，可以通过 蓝鲸智云开发者中心 -&gt; 点击应用 ID -&gt; 基本信息 获取</td>
</tr>
<tr>
<td>bk_token</td>
<td>string</td>
<td>否</td>
<td>当前用户登录态，bk_token 与 bk_username 必须一个有效，bk_token 可以通过 Cookie 获取</td>
</tr>
<tr>
<td>bk_username</td>
<td>string</td>
<td>否</td>
<td>当前用户用户名，应用免登录态验证白名单中的应用，用此字段指定当前用户</td>
</tr>
</tbody>
</table>
<h4 id="_6">接口参数</h4>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>必须</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>lookup_field</td>
<td>字符串</td>
<td>否</td>
<td>查询字段, 默认为 'username'</td>
</tr>
<tr>
<td>fields</td>
<td>字符串</td>
<td>否</td>
<td>返回字段, 例如 "username,id"</td>
</tr>
</tbody>
</table>
<h3 id="_7">请求参数示例</h3>
<pre class="codehilite"><code class="language-json">{
  &quot;fields&quot;: &quot;username,id&quot;
}</code></pre>


<h3 id="_8">返回结果示例</h3>
<pre class="codehilite"><code class="language-json">{
    &quot;message&quot;: &quot;Success&quot;,
    &quot;code&quot;: 0,
    &quot;data&quot;: {
        &quot;id&quot;: 4,
        &quot;username&quot;: &quot;jackma&quot;,
    },
    &quot;result&quot;: true
}</code></pre>


<h3 id="_9">返回结果参数说明</h3>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>result</td>
<td>bool</td>
<td>返回结果，true 为成功，false 为失败</td>
</tr>
<tr>
<td>code</td>
<td>int</td>
<td>返回码，0 表示成功，其他值表示失败</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>错误信息</td>
</tr>
<tr>
<td>data</td>
<td>array</td>
<td>结果</td>
</tr>
</tbody>
</table>
    </body>
    </html>
    